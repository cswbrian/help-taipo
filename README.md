# Disaster Help PWA

A Progressive Web App that displays disaster relief locations from a public Google Spreadsheet. The app automatically updates every 5 minutes via GitHub Actions.

## Features

- ðŸ“± Responsive design (mobile-first)
- ðŸ” Search locations by name
- ðŸŽ¯ Filter by supply status (å……è¶³/å°šéœ€/æ€¥éœ€/ç„¡è³‡æ–™)
- âš¡ Fast loading with static JSON data
- ðŸ”„ Auto-updates every 5 minutes via GitHub Actions
- ðŸ“Š Displays supply needs and volunteer requirements

## Data Source

- **Google Sheet ID**: `1W8A40TCVAY5prHNyVk-TqdSv2EumkVvN9l7LoUrY8-w`
- **Data starts at**: Row 9 (Cell A9)
- Updates are fetched automatically every 5 minutes

## Development

### Prerequisites

- Node.js 20+
- npm

### Quick Start

**Option 1: Using npm scripts**
```bash
npm install
npm start
# or
npm run dev
```

**Option 2: Using the start script**
```bash
./start.sh
```

The development server will start at `http://localhost:5173`

### Setup

1. Install dependencies:
```bash
npm install
```

2. Start development server:
```bash
npm start
# or
npm run dev
```

3. Build for production:
```bash
npm run build
```

4. Preview production build:
```bash
npm run build
npm run preview
```

### Troubleshooting

If you see errors about `main.tsx` or PWA plugin:
- Clear your browser cache and hard refresh (Ctrl+Shift+R or Cmd+Shift+R)
- Clear browser's service worker cache (DevTools > Application > Service Workers > Unregister)
- Try opening in an incognito/private window

## Deployment

The app is automatically deployed to GitHub Pages via GitHub Actions:

1. The workflow runs every 5 minutes (scheduled)
2. Fetches latest data from Google Sheets
3. Generates `data/locations.json`
4. Builds the React app
5. Deploys to GitHub Pages

### Manual Deployment

To manually trigger an update, go to Actions > Update Data and Deploy > Run workflow.

## Project Structure

```
/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ LocationCard.jsx    # Location card component
â”‚   â”‚   â”œâ”€â”€ FilterBar.jsx       # Search and filter controls
â”‚   â”‚   â””â”€â”€ StatusBadge.jsx     # Status indicator component
â”‚   â”œâ”€â”€ App.jsx                 # Main app component
â”‚   â””â”€â”€ main.jsx                # React entry point
â”œâ”€â”€ data/
â”‚   â””â”€â”€ locations.json          # Generated by GitHub Actions
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ parse-sheet.js          # CSV parser script
â””â”€â”€ .github/
    â””â”€â”€ workflows/
        â””â”€â”€ update-data.yml     # GitHub Actions workflow
```

## Technologies

- **React** - UI framework
- **Tailwind CSS** - Styling
- **Vite** - Build tool
- **GitHub Actions** - CI/CD and data updates
- **GitHub Pages** - Hosting

## License

MIT
